---
directories_files_backup:
  directories:
    - path: "/home/{{ ansible_user }}/docker_volume_backup_config"
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
  contents:
    - dest: "/home/{{ ansible_user }}/docker_volume_backup_config/unifi_mongo.env"
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      content: |
        BACKUP_CRON_EXPRESSION='@daily'
        BACKUP_SOURCES="/custom_backup/unifi_mongo"
        BACKUP_RETENTION_DAYS="30"
        EXEC_LABEL="database-mongodb"
        AWS_S3_PATH="unifi/mongo"
    - dest: "/home/{{ ansible_user }}/docker_volume_backup_config/unifi_config.env"
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      content: |
        BACKUP_CRON_EXPRESSION='@daily'
        BACKUP_SOURCES="/custom_backup/unifi_config"
        BACKUP_RETENTION_DAYS="30"
        AWS_S3_PATH="unifi/config"
    - dest: "/home/{{ ansible_user }}/docker_volume_backup_config/semaphore.env"
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      content: |
        BACKUP_CRON_EXPRESSION='@daily'
        BACKUP_SOURCES="/custom_backup/semaphore"
        BACKUP_RETENTION_DAYS="30"
        AWS_S3_PATH="semaphore/semaphore"
    - dest: "/home/{{ ansible_user }}/docker_volume_backup_config/semaphore_db.env"
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      content: |
        BACKUP_CRON_EXPRESSION='@daily'
        BACKUP_SOURCES="/custom_backup/semaphore_db"
        BACKUP_RETENTION_DAYS="30"
        EXEC_LABEL="database-postgres-semaphore"
        AWS_S3_PATH="semaphore/database"
